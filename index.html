<!DOCTYPE HTML> 
<html lang="en"> 
<head> 
	<title>SR Web</title> 
	<meta charset="utf-8"> 
	<link rel="stylesheet" type="text/css" href="examples/css/SRJS.css" />

	<script type="text/javascript" src="js/libs/Three.js"></script>
	<script type="text/javascript" src="js/libs/Detector.js"></script> 
	<script type="text/javascript" src="js/libs/RequestAnimationFrame.js"></script> 
	<script type="text/javascript" src="js/libs/Stats.js"></script>
	
	<script type="text/javascript" src="js/src/SRJS.js"></script>
	<script type="text/javascript" src="js/src/core/Settings.js"></script>
	<script type="text/javascript" src="js/src/core/Utils.js"></script>
	<script type="text/javascript" src="js/src/core/Vector2.js"></script>
	<script type="text/javascript" src="js/src/core/Init.js"></script>
	
	<script type="text/javascript" src="js/src/physics/Physics.js"></script>
	<script type="text/javascript" src="js/src/physics/Intersections.js"></script>
	<script type="text/javascript" src="js/src/physics/Edge.js"></script>
	<script type="text/javascript" src="js/src/physics/Polygon.js"></script>
	<script type="text/javascript" src="js/src/physics/Rectangle.js"></script>
	<script type="text/javascript" src="js/src/physics/Ray.js"></script>
	<script type="text/javascript" src="js/src/physics/Environment.js"></script>
	<script type="text/javascript" src="js/src/physics/DebugCanvas.js"></script>
	
	<script type="text/javascript" src="js/src/arena/Arena.js"></script>
	<script type="text/javascript" src="js/src/arena/Arena2011.js"></script>
	<script type="text/javascript" src="js/src/arena/Material.js"></script>
	<script type="text/javascript" src="js/src/arena/Wall.js"></script>
	<script type="text/javascript" src="js/src/arena/Cube.js"></script>
	<script type="text/javascript" src="js/src/arena/Trigger.js"></script>
	<script type="text/javascript" src="js/src/arena/Pushable.js"></script>
	<script type="text/javascript" src="js/src/arena/Marker.js"></script>
	
	<script type="text/javascript" src="js/src/robot/Query.js"></script>
	<script type="text/javascript" src="js/src/robot/Robot.js"></script>
	<script type="text/javascript" src="js/src/robot/IO.js"></script>
	<script type="text/javascript" src="js/src/robot/BumpSensor.js"></script>
	<script type="text/javascript" src="js/src/robot/RangeFinder.js"></script>
	<script type="text/javascript" src="js/src/robot/Motor.js"></script>
	
	<script type="text/javascript" src="js/src/vision/Vision.js"></script>
	<script type="text/javascript" src="js/src/vision/VisionV1.js"></script>
	<script type="text/javascript" src="js/src/vision/VisionV2.js"></script>
	<script type="text/javascript" src="js/src/vision/Blob.js"></script>
	<script type="text/javascript" src="js/src/vision/Colors.js"></script>
	
</head> 
<body>
<script type="text/javascript">

SRJS.robotVision = true;
SRJS.Init();

var initFunct = function(){

	robot.motor[0].target = 40;
	robot.motor[1].target = 50;
	
};

var mainFunct = function(){
	// store the robot's vision in a variable
	var vision = robot.vision;
	// loop through each of the blobs
	vision.blobs.forEach(function( blob ){
		// output something if a green blob is detected
		if( blob.colour === SRJS.GREEN ){
			console.log( 'Found green blob at', blob.x, ',', blob.y );
		}
	}, robot); // pass 'robot' as the second parameter of forEach() to reduce unexpected bugs
};

var args = {
	initialise: initFunct,
	main: mainFunct
};

SRJS.CURRENT_ARENA.addRobot( args );
// add a second robot so that the first one has something to look at
SRJS.CURRENT_ARENA.addRobot();

r = SRJS.CURRENT_ARENA.robots[0];
m = new SRJS.Marker(r);

</script>
</body> 
</html>
